게임 데이터를 저장하는 방식에는 어떤것이 있을까?
찾아보니 유니티에서는 PlayerPrefs라는 기능을 제공하고 있었다.

void DeleteAll()
void DeleteKey(string name)
bool HasKey(string name)
float GetFloat(string name)
int GetInt(string name)
string GetString(string name)
void SetFloat(string name, float value)
void SetInt(string name, int value)
void SetString(string name)

등의 메소드로 이루어져 있었는데.
처음에는 "왜 string,int,float등 간단한 자료형만 저장할 수 있게 했을까?"라고 생각했는데
조금만 생각해보니 거의 모든 데이터들이 string,int,float로 저장되고 불러온다는 것을 깨달았다.
그럼 이것을 통해 어떤 방식으로 저장하는 것이 좋을까?
데이터모델링에서 보면 관계형 데이터베이스 라는 것이 있다.
관계형 데이터베이스에서는 테이블로 이루어져 있는데, 테이블이란 키(key)와 값(value)들의 간단한 관계를 테이블화 시킨것을 말한다.

여러 플레이어들의 데이터를 다루려면 테이블을 사용하는 것이 좋을테지만
위에 메소드들 만으로는 테이블을 구성하기 힘들어보인다.
그리고 현재 만들고 있는 텍스트 알피지에서는 데이터 베이스를 쓰기엔 데이터의 양이 그렇게 많지 않다.
그래서 생각한 것은 데이터 오브젝트를 전달하기 위한 표준인 JSON을 모방해 데이터를 저장해보기로 했다.

그런데 여기서 또 고민해봐야 할 부분이
Colorless project에서
한 씬을 Choice라는 클래스로 구현해놨는데
Choice는 bool,int,String 외에도 TextAnpPosition같은 객체와 그안에 포지션,텍스트 값 등 한 객체 안에 복합적인 정보들이 또 들어있다.
직렬화를 하면 일괄적으로 저장할 수 있지만. 그럴경우엔 특정 정보를 추출하거나 검색하는 것이 어렵다는 단점이 있다.
그리고 난 텍스트 파일 상에서도 쉽게 데이터를 수정,삭제,추가 할 수 있도록 하고 싶다.
아무래도 특정 규칙을 정해서 데이터를 저장하도록 해야겠다.


자체적으로 JSON형식으로 저장하는 클래스를 구현하려고 했는데 문제가 있다.
단순 문자,숫자 데이터는 텍스트로 저장하는데에 문제가 없지만
delegate같은 메소드는 텍스트로 저장할 수 가 없다.
그럼 소스코드 내부에 따로 delegate들만 모아서 구현을 해놓고
이름을 정해서 이름만 따로 저장하는 방식으로 해야할 것 같다.
